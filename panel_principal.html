<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreakTracker Pro - Dashboard Principal</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fstreaktrac3957back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.9"></script>
  <script type="module" src="https://static.rocket.new/rocket-shot.js?v=0.0.1"></script>
  </head>
<body class="bg-gradient-to-br from-primary-50 via-white to-accent-50 min-h-screen">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-5">
        <svg class="w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <pattern id="flame-pattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
                    <circle cx="10" cy="10" r="1" fill="currentColor"/>
                </pattern>
            </defs>
            <rect width="100" height="100" fill="url(#flame-pattern)"/>
        </svg>
    </div>

    <!-- Header -->
    <header class="relative z-10 px-4 py-6 bg-white/80 backdrop-blur-sm border-b border-border-light">
        <div class="max-w-6xl mx-auto">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center">
                        <span class="text-white text-xl font-bold">üî•</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-secondary-800">StreakTracker Pro</h1>
                        <p class="text-xs text-secondary-500">Tu racha, tu fuerza</p>
                    </div>
                </div>

                <!-- Navigation -->
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="main_dashboard.html" class="text-primary font-medium border-b-2 border-primary pb-1">Dashboard</a>
                    <a href="calendar_view.html" class="text-secondary-600 hover:text-primary transition-colors">Calendario</a>
                    <a href="practice_session_tracker.html" class="text-secondary-600 hover:text-primary transition-colors">Pr√°ctica</a>
                    <a href="progress_analytics.html" class="text-secondary-600 hover:text-primary transition-colors">Progreso</a>
                    <a href="achievement_center.html" class="text-secondary-600 hover:text-primary transition-colors">Logros</a>
                </nav>

                <!-- User Profile -->
                <div class="flex items-center space-x-3">
                    <div class="hidden sm:block text-right">
                        <p class="text-sm font-medium text-secondary-800">Mar√≠a Gonz√°lez</p>
                        <p class="text-xs text-secondary-500">Nivel: Dedicada</p>
                    </div>
                    <div class="w-10 h-10 bg-gradient-to-br from-accent to-primary rounded-full flex items-center justify-center">
                        <img src="https://images.unsplash.com/photo-1707507007161-94fac9e47111" 
                             alt="Foto de perfil de Mar√≠a Gonz√°lez" 
                             class="w-full h-full rounded-full object-cover"
                             onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="relative z-10 px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <!-- Welcome Section -->
            <div class="mb-8">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h2 class="text-3xl font-bold text-secondary-800">¬°Buen d√≠a, Mar√≠a! üåÖ</h2>
                        <p class="text-secondary-600 text-lg">Domingo, 3 de Noviembre 2025</p>
                    </div>
                    <div class="text-right">
                        <p class="text-sm text-secondary-500">Hora actual</p>
                        <p id="current-time" class="text-xl font-semibold text-secondary-800">21:29</p>
                    </div>
                </div>
                <div class="bg-gradient-to-r from-primary-100 to-accent-100 rounded-2xl p-6 border border-primary-200">
                    <p class="text-secondary-700 text-lg font-medium italic">
                        "La consistencia es la madre de la maestr√≠a. Cada pr√°ctica te acerca m√°s a tu objetivo."
                    </p>
                    <p class="text-secondary-600 text-sm mt-2">‚Äî Consejo del d√≠a</p>
                </div>
            </div>

            <!-- Hero Streak Counter -->
            <div class="mb-8">
                <div class="bg-white rounded-3xl shadow-elevated p-8 border border-border-light text-center">
                    <div class="mb-6">
                        <div class="inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-primary to-accent rounded-full mb-4 shadow-elevated">
                            <span class="text-4xl">üî•</span>
                        </div>
                        <h3 class="text-2xl font-bold text-secondary-800 mb-2">Tu Racha Actual</h3>
                        <div class="streak-counter text-6xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-2">
                            47
                        </div>
                        <p class="text-secondary-600 text-lg">d√≠as consecutivos</p>
                    </div>
                    
                    <div class="flex items-center justify-center space-x-8 mb-6">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-accent">156</p>
                            <p class="text-sm text-secondary-500">Sesiones totales</p>
                        </div>
                        <div class="w-px h-12 bg-border"></div>
                        <div class="text-center">
                            <p class="text-2xl font-bold text-success-600">94%</p>
                            <p class="text-sm text-secondary-500">Consistencia</p>
                        </div>
                        <div class="w-px h-12 bg-border"></div>
                        <div class="text-center">
                            <p class="text-2xl font-bold text-primary">12</p>
                            <p class="text-sm text-secondary-500">Logros</p>
                        </div>
                    </div>

                    <!-- Quick Action Button -->
                    <button id="log-practice-btn" class="btn-primary text-lg px-8 py-4 rounded-xl shadow-elevated hover:shadow-lg transform hover:scale-105 transition-all">
                        <span class="flex items-center justify-center">
                            <span class="mr-3 text-2xl">‚ö°</span>
                            Registrar Pr√°ctica de Hoy
                        </span>
                    </button>
                </div>
            </div>

            <!-- Today's Goals & Weekly Overview -->
            <div class="grid lg:grid-cols-2 gap-8 mb-8">
                <!-- Today's Goals -->
                <div class="bg-white rounded-2xl shadow-elevated p-6 border border-border-light">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold text-secondary-800">Objetivos de Hoy</h3>
                        <span class="text-2xl">üéØ</span>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-4 bg-success-50 rounded-lg border border-success-200">
                            <div class="flex items-center space-x-3">
                                <div class="w-6 h-6 bg-success-500 rounded-full flex items-center justify-center">
                                    <span class="text-white text-sm">‚úì</span>
                                </div>
                                <span class="text-secondary-700 font-medium">Simulacro de Matem√°ticas</span>
                            </div>
                            <span class="text-success-600 font-semibold">Completado</span>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 bg-surface rounded-lg border border-border">
                            <div class="flex items-center space-x-3">
                                <div class="w-6 h-6 bg-secondary-300 rounded-full flex items-center justify-center">
                                    <span class="text-white text-sm">2</span>
                                </div>
                                <span class="text-secondary-700 font-medium">Pr√°ctica de F√≠sica</span>
                            </div>
                            <span class="text-secondary-500">Pendiente</span>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 bg-surface rounded-lg border border-border">
                            <div class="flex items-center space-x-3">
                                <div class="w-6 h-6 bg-secondary-300 rounded-full flex items-center justify-center">
                                    <span class="text-white text-sm">3</span>
                                </div>
                                <span class="text-secondary-700 font-medium">Repaso de Qu√≠mica</span>
                            </div>
                            <span class="text-secondary-500">Pendiente</span>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm text-secondary-600">Progreso del d√≠a</span>
                            <span class="text-sm font-semibold text-primary">33%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 33%"></div>
                        </div>
                    </div>
                </div>

                <!-- Weekly Overview -->
                <div class="bg-white rounded-2xl shadow-elevated p-6 border border-border-light">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold text-secondary-800">Resumen Semanal</h3>
                        <span class="text-2xl">üìÖ</span>
                    </div>
                    
                    <!-- Mini Calendar Preview -->
                    <div class="grid grid-cols-7 gap-2 mb-6">
                        <div class="text-center text-xs font-medium text-secondary-500 py-2">L</div>
                        <div class="text-center text-xs font-medium text-secondary-500 py-2">M</div>
                        <div class="text-center text-xs font-medium text-secondary-500 py-2">X</div>
                        <div class="text-center text-xs font-medium text-secondary-500 py-2">J</div>
                        <div class="text-center text-xs font-medium text-secondary-500 py-2">V</div>
                        <div class="text-center text-xs font-medium text-secondary-500 py-2">S</div>
                        <div class="text-center text-xs font-medium text-secondary-500 py-2">D</div>
                        
                        <div class="aspect-square bg-success-100 rounded-lg flex items-center justify-center border border-success-200">
                            <span class="text-lg">üî•</span>
                        </div>
                        <div class="aspect-square bg-success-100 rounded-lg flex items-center justify-center border border-success-200">
                            <span class="text-lg">üî•</span>
                        </div>
                        <div class="aspect-square bg-success-100 rounded-lg flex items-center justify-center border border-success-200">
                            <span class="text-lg">üî•</span>
                        </div>
                        <div class="aspect-square bg-success-100 rounded-lg flex items-center justify-center border border-success-200">
                            <span class="text-lg">üî•</span>
                        </div>
                        <div class="aspect-square bg-success-100 rounded-lg flex items-center justify-center border border-success-200">
                            <span class="text-lg">üî•</span>
                        </div>
                        <div class="aspect-square bg-success-100 rounded-lg flex items-center justify-center border border-success-200">
                            <span class="text-lg">üî•</span>
                        </div>
                        <div class="aspect-square bg-primary-100 rounded-lg flex items-center justify-center border-2 border-primary">
                            <span class="text-lg">üî•</span>
                        </div>
                    </div>
                    
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <span class="text-secondary-600">D√≠as completados</span>
                            <span class="font-semibold text-success-600">7/7</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-secondary-600">Sesiones esta semana</span>
                            <span class="font-semibold text-primary">12</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-secondary-600">Tiempo total</span>
                            <span class="font-semibold text-accent">8h 45m</span>
                        </div>
                    </div>
                    
                    <button class="w-full mt-4 px-4 py-3 bg-surface hover:bg-border-light rounded-lg text-secondary-700 font-medium transition-colors">
                        Ver Calendario Completo
                    </button>
                </div>
            </div>

            <!-- Recent Achievements & Quick Stats -->
            <div class="grid lg:grid-cols-3 gap-6 mb-8">
                <!-- Recent Achievement -->
                <div class="bg-gradient-to-br from-accent-50 to-primary-50 rounded-2xl p-6 border border-accent-200">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-accent to-primary rounded-full flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">üèÜ</span>
                        </div>
                        <h4 class="font-bold text-secondary-800 mb-2">¬°Nuevo Logro!</h4>
                        <p class="text-sm text-secondary-600 mb-3">Racha de 45 d√≠as</p>
                        <span class="milestone-badge">Dedicaci√≥n Extrema</span>
                    </div>
                </div>

                <!-- Performance Insight -->
                <div class="bg-white rounded-2xl shadow-card p-6 border border-border-light">
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="font-bold text-secondary-800">Rendimiento</h4>
                        <span class="text-2xl">üìà</span>
                    </div>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-secondary-600">Promedio semanal</span>
                            <span class="font-semibold text-success-600">+15%</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-secondary-600">Mejor materia</span>
                            <span class="font-semibold text-primary">Matem√°ticas</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <span class="text-sm text-secondary-600">Tiempo promedio</span>
                            <span class="font-semibold text-accent">75 min</span>
                        </div>
                    </div>
                </div>

                <!-- Motivation Boost -->
                <div class="bg-gradient-to-br from-primary-50 to-accent-50 rounded-2xl p-6 border border-primary-200">
                    <div class="text-center">
                        <span class="text-3xl mb-3 block">üí™</span>
                        <h4 class="font-bold text-secondary-800 mb-2">¬°Sigue as√≠!</h4>
                        <p class="text-sm text-secondary-600 mb-3">Est√°s en el 5% superior de usuarios m√°s consistentes</p>
                        <div class="text-xs text-primary font-medium">
                            Solo 3 d√≠as para el pr√≥ximo hito
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions Grid -->
            <div class="bg-white rounded-2xl shadow-elevated p-6 border border-border-light">
                <h3 class="text-xl font-bold text-secondary-800 mb-6">Acciones R√°pidas</h3>
                <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
                    <button class="flex flex-col items-center p-4 bg-surface hover:bg-border-light rounded-xl transition-colors group">
                        <div class="w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mb-3 group-hover:bg-primary-200 transition-colors">
                            <span class="text-xl">üìù</span>
                        </div>
                        <span class="text-sm font-medium text-secondary-700">Nueva Sesi√≥n</span>
                    </button>
                    
                    <a href="calendar_view.html" class="flex flex-col items-center p-4 bg-surface hover:bg-border-light rounded-xl transition-colors group">
                        <div class="w-12 h-12 bg-accent-100 rounded-full flex items-center justify-center mb-3 group-hover:bg-accent-200 transition-colors">
                            <span class="text-xl">üìÖ</span>
                        </div>
                        <span class="text-sm font-medium text-secondary-700">Ver Calendario</span>
                    </a>
                    
                    <a href="progress_analytics.html" class="flex flex-col items-center p-4 bg-surface hover:bg-border-light rounded-xl transition-colors group">
                        <div class="w-12 h-12 bg-success-100 rounded-full flex items-center justify-center mb-3 group-hover:bg-success-200 transition-colors">
                            <span class="text-xl">üìä</span>
                        </div>
                        <span class="text-sm font-medium text-secondary-700">Ver Progreso</span>
                    </a>
                    
                    <a href="achievement_center.html" class="flex flex-col items-center p-4 bg-surface hover:bg-border-light rounded-xl transition-colors group">
                        <div class="w-12 h-12 bg-warning-100 rounded-full flex items-center justify-center mb-3 group-hover:bg-warning-200 transition-colors">
                            <span class="text-xl">üèÜ</span>
                        </div>
                        <span class="text-sm font-medium text-secondary-700">Mis Logros</span>
                    </a>
                </div>
            </div>
        </div>
    </main>

    <!-- Practice Session Modal -->
    <div id="practice-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-white rounded-2xl p-6 w-full max-w-md">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-gradient-to-br from-primary to-accent rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-2xl">‚ö°</span>
                </div>
                <h3 class="text-xl font-bold text-secondary-800 mb-2">Registrar Pr√°ctica</h3>
                <p class="text-secondary-600">¬°Mant√©n tu racha viva!</p>
            </div>

            <form id="practice-form" class="space-y-4">
                <div>
                    <label for="subject" class="block text-sm font-medium text-secondary-700 mb-2">Materia</label>
                    <select id="subject" class="input-field" required>
                        <option value="">Selecciona una materia</option>
                        <option value="matematicas">Matem√°ticas</option>
                        <option value="fisica">F√≠sica</option>
                        <option value="quimica">Qu√≠mica</option>
                        <option value="biologia">Biolog√≠a</option>
                        <option value="historia">Historia</option>
                        <option value="literatura">Literatura</option>
                    </select>
                </div>

                <div>
                    <label for="duration" class="block text-sm font-medium text-secondary-700 mb-2">Duraci√≥n (minutos)</label>
                    <input type="number" id="duration" min="1" max="300" placeholder="60" class="input-field" required>
                </div>

                <div>
                    <label for="difficulty" class="block text-sm font-medium text-secondary-700 mb-2">Dificultad</label>
                    <select id="difficulty" class="input-field" required>
                        <option value="">Selecciona dificultad</option>
                        <option value="facil">F√°cil</option>
                        <option value="medio">Medio</option>
                        <option value="dificil">Dif√≠cil</option>
                    </select>
                </div>

                <div>
                    <label for="notes" class="block text-sm font-medium text-secondary-700 mb-2">Notas (opcional)</label>
                    <textarea id="notes" rows="3" placeholder="¬øC√≥mo te fue? ¬øQu√© aprendiste?" class="input-field"></textarea>
                </div>

                <div class="flex space-x-3">
                    <button type="button" id="cancel-practice" class="flex-1 px-4 py-3 border border-border rounded-lg text-secondary-600 hover:bg-surface transition-colors">
                        Cancelar
                    </button>
                    <button type="submit" class="flex-1 btn-primary">
                        <span class="flex items-center justify-center">
                            <span class="mr-2">üî•</span>
                            Registrar
                        </span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Success Message -->
    <div id="success-message" class="fixed top-4 right-4 bg-success-500 text-white px-6 py-3 rounded-lg shadow-elevated hidden z-50">
        <div class="flex items-center">
            <span class="mr-2">üî•</span>
            <span id="success-text">¬°Pr√°ctica registrada! Racha mantenida</span>
        </div>
    </div>

    <!-- Footer -->
    <footer class="relative z-10 bg-white/80 backdrop-blur-sm border-t border-border-light mt-12">
        <div class="max-w-6xl mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2 text-sm text-secondary-500">
                    <span>üî•</span>
                    <span>Cada d√≠a cuenta</span>
                    <span>‚Ä¢</span>
                    <span>Cada pr√°ctica importa</span>
                    <span>üî•</span>
                </div>
                <p class="text-sm text-secondary-500">¬© 2025 StreakTracker Pro. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Update current time
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('es-ES', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            document.getElementById('current-time').textContent = timeString;
        }
        
        updateTime();
        setInterval(updateTime, 60000); // Update every minute

        // Practice session modal functionality
        const logPracticeBtn = document.getElementById('log-practice-btn');
        const practiceModal = document.getElementById('practice-modal');
        const cancelPracticeBtn = document.getElementById('cancel-practice');
        const practiceForm = document.getElementById('practice-form');
        const successMessage = document.getElementById('success-message');

        // Quick action button for new session
        const quickActionBtn = document.querySelector('.grid.sm\\:grid-cols-2 button');
        
        function openPracticeModal() {
            practiceModal.classList.remove('hidden');
        }

        function closePracticeModal() {
            practiceModal.classList.add('hidden');
            practiceForm.reset();
        }

        function showSuccessMessage(message) {
            const successText = document.getElementById('success-text');
            successText.textContent = message;
            successMessage.classList.remove('hidden');
            setTimeout(() => {
                successMessage.classList.add('hidden');
            }, 3000);
        }

        // Event listeners
        logPracticeBtn.addEventListener('click', openPracticeModal);
        quickActionBtn.addEventListener('click', openPracticeModal);
        cancelPracticeBtn.addEventListener('click', closePracticeModal);

        // Close modal when clicking outside
        practiceModal.addEventListener('click', (e) => {
            if (e.target === practiceModal) {
                closePracticeModal();
            }
        });

        // Form submission
        practiceForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const subject = document.getElementById('subject').value;
            const duration = document.getElementById('duration').value;
            const difficulty = document.getElementById('difficulty').value;
            const notes = document.getElementById('notes').value;

            // Mock practice session registration
            console.log('Practice session registered:', {
                subject,
                duration,
                difficulty,
                notes,
                timestamp: new Date().toISOString()
            });

            // Update streak counter (mock increment)
            const streakCounter = document.querySelector('.streak-counter');
            const currentStreak = parseInt(streakCounter.textContent);
            streakCounter.textContent = currentStreak;

            // Update today's goals progress
            const progressBar = document.querySelector('.progress-fill');
            const progressText = document.querySelector('.text-primary');
            
            // Mock progress update
            setTimeout(() => {
                progressBar.style.width = '66%';
                progressText.textContent = '66%';
            }, 500);

            closePracticeModal();
            showSuccessMessage(`¬°Pr√°ctica de ${subject} registrada! Racha mantenida üî•`);
        });

        // Animate streak counter on load
        window.addEventListener('load', () => {
            const streakCounter = document.querySelector('.streak-counter');
            streakCounter.style.transform = 'scale(1.1)';
            setTimeout(() => {
                streakCounter.style.transform = 'scale(1)';
            }, 300);
        });

        // Add hover effects to quick action buttons
        const quickActionButtons = document.querySelectorAll('.grid.sm\\:grid-cols-2 > *');
        quickActionButtons.forEach(button => {
            button.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
            });
            
            button.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Contextual tips based on streak status
        function showContextualTip() {
            const streakCount = parseInt(document.querySelector('.streak-counter').textContent);
            let tip = '';
            
            if (streakCount >= 50) {
                tip = '¬°Incre√≠ble! Est√°s en una racha √©pica. Mant√©n el momentum.';
            } else if (streakCount >= 30) {
                tip = '¬°Excelente consistencia! Est√°s construyendo un h√°bito s√≥lido.';
            } else if (streakCount >= 7) {
                tip = '¬°Gran progreso! Una semana completa de dedicaci√≥n.';
            } else {
                tip = '¬°Buen comienzo! Cada d√≠a cuenta para construir tu racha.';
            }
            
            // Could display this tip in a toast or update motivational content
            console.log('Contextual tip:', tip);
        }

        showContextualTip();
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>